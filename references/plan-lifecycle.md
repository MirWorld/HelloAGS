# 方案包生命周期（G11 细则）

目标：让每次变更都可追溯：方案包 → 执行记录 → 归档索引。

---

## 1) 任务状态符号

- `[ ]` 待执行
- `[√]` 已完成
- `[X]` 执行失败（需备注原因）
- `[-]` 已跳过（需备注原因）
- `[?]` 待确认

---

## 2) 创建新方案包

- 路径：`HAGWroks/plan/YYYYMMDDHHMM_<feature>/`
- 冲突：同名目录存在则追加 `_v2/_v3/...`
- 完整性：必须包含 `why.md` + `how.md` + `task.md` 且非空（`task.md` 至少 1 条任务）

---

## 3) 执行后强制迁移（开发实施结束的原子动作）

1. 回写 `task.md`：所有任务标注真实状态；非 `[√]` 的任务必须写 `> 备注: ...`
2. 迁移目录：`HAGWroks/history/YYYY-MM/YYYYMMDDHHMM_<feature>/`
3. 更新索引：追加到 `HAGWroks/history/index.md`（包含时间戳、功能标识、类型、状态、链接）

---

## 4) 遗留方案扫描与清理（可选交互）

触发：
- 方案设计/轻量迭代结束后（新包创建）
- 开发实施/执行命令/全授权命令结束后（迁移完成）

规则：
- 扫描 `HAGWroks/plan/`，排除本次 `CURRENT_PACKAGE`
- 如存在遗留包：在完成输出末尾提示，并提供迁移选择流程（见 `kb/SKILL.md` 的遗留方案迁移规则）
